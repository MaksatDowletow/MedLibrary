# Обзор базы данных dbMedicalLib.sqlite

## Схема
- 14 таблиц: ядро библиотеки (книги, категории, языки) и вспомогательные таблицы DevExpress/XAF для прав и отчетов.
- Ключевые сущности:
  - **Book** — библиографические сведения с GUID-ключом `Oid`, полями для названий/авторов на русском и туркменском, издательством, годом, количеством страниц, кодами УДК/ББК, ISBN, ссылками на файл/изображение и GUID языка `BookLanguage`.
  - **BookCategory** — категории с названиями на русском и туркменском, ключ `Oid`.
  - **BookCategoryCategories_BookBooks** — таблица-связка «книга–категория» с ключом `OID`, полями `Books` и `Categories` и колонкой оптимистической блокировки.
  - **Language** — список языков (название + GUID), на которые ссылаются книги.
- Прочие таблицы (`ReportDataV2`, `ModelDifference*`, `PermissionPolicy*`) отвечают за отчеты, настройки модели, пользователей/роли и точечные разрешения по типам, членам, объектам и навигации; присутствуют индексы для soft-delete (`GCRecord`) и оптимистической блокировки.

## Объемы данных
- 1 000 книг, 69 категорий, 1 770 связок «книга–категория» (≈1,77 категории на книгу).
- Языки: русский — 773 книги, английский — 170, туркменский — 56, немецкий — 1; одна запись языка с пустым названием не используется.
- Топ категорий по числу книг: «Магнитно-резонансная томография-МРТ» (127), «Нейрохирургия» (107), «Неврология» (97), «Компютерная томография-КТ» (93), «Педиатрия» (73).

## Примеры записей
- Категории охватывают нейрохирургию, кардиологию, МРТ, пластическую хирургию, неврологию, анатомию, физиологию, онкологию и хирургию; есть туркменские переводы и GUID-ключи для связей.
- В записях книг указаны годы издания и ISBN; поля названий/авторов заполнены на нескольких языках; ссылка на язык идет через GUID `BookLanguage` (пример: русскоязычная книга по пластической хирургии 1998 г. с ISBN `5-8232-0196-6`).

## Связи и особенности
- `Book.BookLanguage` связывается с `Language.Oid`; каждая книга имеет назначение языка по счетчикам выше.
- Привязка категорий реализована через `BookCategoryCategories_BookBooks`, обеспечивая многие-ко-многим и ускоренный поиск по индексам `Books` и `Categories`.
- Таблицы разрешений содержат лишь двух пользователей и две роли с минимальными данными по разрешениям типов, что указывает на дефолтную/минимальную настройку контроля доступа.

## Тестирование
- Тесты не запускались (выполнен только анализ данных).
